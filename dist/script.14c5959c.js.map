{"version":3,"sources":["script.js"],"names":["account1","owner","movements","interestRate","pin","account2","account3","account4","accounts","labelWelcome","document","querySelector","labelDate","labelBalance","labelSumIn","labelSumOut","labelSumInterest","labelTimer","containerApp","containerMovements","btnLogin","btnTransfer","btnLoan","btnClose","btnSort","inputLoginUsername","inputLoginPin","inputTransferTo","inputTransferAmount","inputLoanAmount","inputCloseUsername","inputClosePin","displayMovements","sort","innerHTML","slice","a","b","forEach","mov","i","type","html","insertAdjacentHTML","calcDisplayBalance","acc","balance","reduce","textContent","calcDisplaySummary","incomes","filter","out","Math","abs","interest","map","deposit","int","arr","createUserNames","username","toLowerCase","split","name","join","currentAccount","updateUI","addEventListener","e","preventDefault","find","value","Number","style","opacity","blur","amount","recieverAcc","push","some","index","findIndex","splice","sorted"],"mappings":"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","file":"script.14c5959c.js","sourceRoot":"..","sourcesContent":["'use strict';\n\n// Data\nconst account1 = {\n  owner: 'Abhishek Raj',\n  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],\n  interestRate: 1.2, // %\n  pin: 1111,\n};\n\nconst account2 = {\n  owner: 'Raushan singh',\n  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],\n  interestRate: 1.5,\n  pin: 2222,\n};\n\nconst account3 = {\n  owner: 'Ritesh Raj',\n  movements: [200, -200, 340, -300, -20, 50, 400, -460],\n  interestRate: 0.7,\n  pin: 3333,\n};\n\nconst account4 = {\n  owner: 'Manikant Suman',\n  movements: [430, 1000, 700, 50, 90],\n  interestRate: 1,\n  pin: 4444,\n};\n\nconst accounts = [account1, account2, account3, account4];\n\n// Elements\nconst labelWelcome = document.querySelector('.welcome');\nconst labelDate = document.querySelector('.date');\nconst labelBalance = document.querySelector('.balance__value');\nconst labelSumIn = document.querySelector('.summary__value--in');\nconst labelSumOut = document.querySelector('.summary__value--out');\nconst labelSumInterest = document.querySelector('.summary__value--interest');\nconst labelTimer = document.querySelector('.timer');\n\nconst containerApp = document.querySelector('.app');\nconst containerMovements = document.querySelector('.movements');\n\nconst btnLogin = document.querySelector('.login__btn');\nconst btnTransfer = document.querySelector('.form__btn--transfer');\nconst btnLoan = document.querySelector('.form__btn--loan');\nconst btnClose = document.querySelector('.form__btn--close');\nconst btnSort = document.querySelector('.btn--sort');\n\nconst inputLoginUsername = document.querySelector('.login__input--user');\nconst inputLoginPin = document.querySelector('.login__input--pin');\nconst inputTransferTo = document.querySelector('.form__input--to');\nconst inputTransferAmount = document.querySelector('.form__input--amount');\nconst inputLoanAmount = document.querySelector('.form__input--loan-amount');\nconst inputCloseUsername = document.querySelector('.form__input--user');\nconst inputClosePin = document.querySelector('.form__input--pin');\n\nconst displayMovements = function (movements, sort = false) {\n  containerMovements.innerHTML = '';\n\n  const movs = sort ? movements.slice().sort((a, b) => a - b) : movements;\n\n  movs.forEach(function (mov, i) {\n    const type = mov > 0 ? 'deposit' : 'withdrawal';\n\n    const html = `\n    <div class=\"movements__row\">\n          <div class=\"movements__type \n          movements__type--${type}\">${i + 1} ${type}</div>\n          <div class=\"movements__value\">${mov}₹</div>\n        </div>\n    `;\n\n    containerMovements.insertAdjacentHTML('afterbegin', html);\n  });\n};\n\nconst calcDisplayBalance = function (acc) {\n  acc.balance = acc.movements.reduce((acc, mov) => acc + mov, 0);\n  // acc.balance = balance;\n  labelBalance.textContent = `${acc.balance}₹`;\n};\n\nconst calcDisplaySummary = function (acc) {\n  const incomes = acc.movements\n    .filter(mov => mov > 0)\n    .reduce((acc, mov) => acc + mov);\n  labelSumIn.textContent = `${incomes}₹`;\n\n  const out = acc.movements\n    .filter(mov => mov < 0)\n    .reduce((acc, mov) => acc + mov, 0);\n  labelSumOut.textContent = `${Math.abs(out)}₹`;\n\n  const interest = acc.movements\n    .filter(mov => mov > 0)\n    .map(deposit => (deposit * acc.interestRate) / 100)\n    .filter((int, i, arr) => {\n      return int >= 1;\n    })\n    .reduce((acc, int) => acc + int, 0);\n  labelSumInterest.textContent = `${Math.abs(interest)}₹`;\n};\n\nconst createUserNames = function (acc) {\n  acc.forEach(function (acc) {\n    acc.username = acc.owner\n      .toLowerCase()\n      .split(' ')\n      .map(name => name[0])\n      .join('');\n  });\n};\ncreateUserNames(accounts);\n\nconst updateUI = function (acc) {\n  //Diplay movements\n  displayMovements(acc.movements);\n\n  //Display Balance\n  calcDisplayBalance(acc);\n\n  //Display summary\n  calcDisplaySummary(acc);\n};\n\n// Event Handler\nlet currentAccount;\n\nbtnLogin.addEventListener('click', function (e) {\n  //prevent form from submitting\n  e.preventDefault();\n\n  currentAccount = accounts.find(\n    acc => acc.username === inputLoginUsername.value\n  );\n\n  if (currentAccount?.pin === Number(inputLoginPin.value)) {\n    //Display UI and Message\n    labelWelcome.textContent = `Welcome back, ${\n      currentAccount.owner.split(' ')[0]\n    }`;\n    containerApp.style.opacity = 100;\n\n    //clear input fields\n    inputLoginUsername.value = inputLoginPin.value = '';\n    inputLoginPin.blur();\n\n    //update ui\n    updateUI(currentAccount);\n  }\n});\n\nbtnTransfer.addEventListener('click', function (e) {\n  e.preventDefault();\n  const amount = Number(inputTransferAmount.value);\n  const recieverAcc = accounts.find(\n    acc => acc.username === inputTransferTo.value\n  );\n  inputTransferAmount.value = inputTransferTo.value = '';\n  if (\n    amount > 0 &&\n    recieverAcc &&\n    currentAccount.balance >= amount &&\n    recieverAcc?.username !== currentAccount.username\n  ) {\n    //doing transfer\n    currentAccount.movements.push(-amount);\n    recieverAcc.movements.push(amount);\n\n    //update ui\n    updateUI(currentAccount);\n  }\n});\n\nbtnLoan.addEventListener('click', function (e) {\n  e.preventDefault();\n\n  const amount = Number(inputLoanAmount.value);\n\n  if (amount > 0 && currentAccount.movements.some(mov => mov >= amount * 0.1)) {\n    //add movement\n    currentAccount.movements.push(amount);\n\n    // update UI\n    updateUI(currentAccount);\n  }\n  inputLoanAmount.value = '';\n});\n\nbtnClose.addEventListener('click', function (e) {\n  e.preventDefault();\n\n  if (\n    currentAccount.username === inputCloseUsername.value &&\n    currentAccount.pin === Number(inputClosePin.value)\n  ) {\n    const index = accounts.findIndex(\n      acc => acc.username === currentAccount.username\n    );\n    // console.log(index);\n\n    //delete account\n    accounts.splice(index, 1);\n\n    //Hide UI\n    containerApp.style.opacity = 0;\n  }\n\n  inputCloseUsername.value = inputClosePin.value = '';\n});\n\nlet sorted = false;\nbtnSort.addEventListener('click', function (e) {\n  e.preventDefault();\n  displayMovements(currentAccount.movements, !sorted);\n  sorted = !sorted;\n});\n"]}